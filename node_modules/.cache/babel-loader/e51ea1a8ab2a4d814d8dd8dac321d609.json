{"ast":null,"code":"var _jsxFileName = \"/home/roman/Documents/development/projects/second_the-worst-online-mobile-phone-store/src/components/common/Header.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { Layout, Menu, Dropdown } from \"antd\";\nimport MenuForHeader from \"../common/MenuForHeader\";\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\nimport { loadApple } from \"../../redux/actions/appleActions\";\nimport { loadCart, deleteItemFromCart } from \"../../redux/actions/cartActions\"; // import CardForCart from \"../cart/CardForCart\";\n\nimport PopUpCartWindow from \"../cart/PopUpCartWindow\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport { Button } from \"antd\";\nconst HeaderAntd = Layout.Header;\nconst SiderAntd = Layout.Sider;\n\nfunction Header(props) {\n  const [quantity, setQuantity] = useState(0);\n  const [visible, setVisible] = useState(false);\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    props.loadApple();\n    props.loadCart();\n  }, []);\n  useEffect(() => {\n    if (props.cart.length > 0) {\n      const totalItemsQuantity = props.cart.reduce((sum, current) => sum + parseInt(current.quantity), 0);\n      setQuantity(totalItemsQuantity);\n    }\n\n    if (props.cart.length === 0) {\n      setQuantity(0);\n    }\n  }, [props]);\n  useEffect(() => {\n    if (props.cart.length > 0) {\n      setCart(props.cart);\n    }\n  }, [props]);\n\n  function handleDeleteItem(item) {\n    setCart(cart.filter(i => i.id !== item.id));\n    props.deleteItemFromCart(item);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, window.innerWidth < 769 ? /*#__PURE__*/React.createElement(SiderAntd, {\n    breakpoint: \"md\",\n    collapsedWidth: \"0\",\n    onBreakpoint: collapsed => console.log(collapsed),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    theme: \"dark\",\n    mode: \"inline\",\n    defaultSelectedKeys: [\"4\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"nav 1\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"nav 2\"))) : /*#__PURE__*/React.createElement(HeaderAntd, {\n    style: {\n      zIndex: 999,\n      width: \"100%\",\n      position: \"fixed\",\n      fontFamily: \"Helvetica\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuForHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Dropdown, {\n    visible: visible,\n    onVisibleChange: flag => setVisible(flag),\n    overlay: () => quantity === 0 ? /*#__PURE__*/React.createElement(\"h5\", {\n      style: {\n        border: \"1px solid gray\",\n        width: \"400px\",\n        height: \"100px\",\n        zIndex: 9999,\n        backgroundColor: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, \"No products in the Cart\") : /*#__PURE__*/React.createElement(PopUpCartWindow, {\n      cart: cart,\n      onDeleteItem: handleDeleteItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, quantity, /*#__PURE__*/React.createElement(ShoppingCartOutlined, {\n    style: {\n      fontSize: \"170%\",\n      color: \"rgba(255, 255, 255, 0.65)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }))))));\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  cart: state.cart\n});\n\nconst mapDispatchToProps = {\n  loadCart,\n  loadApple,\n  deleteItemFromCart\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));","map":{"version":3,"sources":["/home/roman/Documents/development/projects/second_the-worst-online-mobile-phone-store/src/components/common/Header.js"],"names":["React","useEffect","useState","NavLink","withRouter","connect","Layout","Menu","Dropdown","MenuForHeader","ShoppingCartOutlined","loadApple","loadCart","deleteItemFromCart","PopUpCartWindow","DeleteOutlined","Button","HeaderAntd","Header","SiderAntd","Sider","props","quantity","setQuantity","visible","setVisible","cart","setCart","length","totalItemsQuantity","reduce","sum","current","parseInt","handleDeleteItem","item","filter","i","id","window","innerWidth","collapsed","console","log","zIndex","width","position","fontFamily","display","justifyContent","alignItems","flag","border","height","backgroundColor","fontSize","color","mapStateToProps","state","ownProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { Layout, Menu, Dropdown } from \"antd\";\nimport MenuForHeader from \"../common/MenuForHeader\";\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\nimport { loadApple } from \"../../redux/actions/appleActions\";\nimport { loadCart, deleteItemFromCart } from \"../../redux/actions/cartActions\";\n// import CardForCart from \"../cart/CardForCart\";\nimport PopUpCartWindow from \"../cart/PopUpCartWindow\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport { Button } from \"antd\";\n\nconst HeaderAntd = Layout.Header;\nconst SiderAntd = Layout.Sider;\n\nfunction Header(props) {\n  const [quantity, setQuantity] = useState(0);\n  const [visible, setVisible] = useState(false);\n  const [cart, setCart] = useState([]);\n\n  useEffect(() => {\n    props.loadApple();\n    props.loadCart();\n  }, []);\n\n  useEffect(() => {\n    if (props.cart.length > 0) {\n      const totalItemsQuantity = props.cart.reduce(\n        (sum, current) => sum + parseInt(current.quantity),\n        0\n      );\n      setQuantity(totalItemsQuantity);\n    }\n\n    if (props.cart.length === 0) {\n      setQuantity(0);\n    }\n  }, [props]);\n\n  useEffect(() => {\n    if (props.cart.length > 0) {\n      setCart(props.cart);\n    }\n  }, [props]);\n\n  function handleDeleteItem(item) {\n    setCart(cart.filter((i) => i.id !== item.id));\n    props.deleteItemFromCart(item);\n  }\n\n  return (\n    <>\n      {window.innerWidth < 769 ? (\n        <SiderAntd\n          breakpoint=\"md\"\n          collapsedWidth=\"0\"\n          onBreakpoint={(collapsed) => console.log(collapsed)}\n        >\n          <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"4\"]}>\n            <Menu.Item key=\"1\">nav 1</Menu.Item>\n            <Menu.Item key=\"2\">nav 2</Menu.Item>\n          </Menu>\n        </SiderAntd>\n      ) : (\n        <HeaderAntd\n          style={{\n            zIndex: 999,\n            width: \"100%\",\n            position: \"fixed\",\n            fontFamily: \"Helvetica\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}\n        >\n          <MenuForHeader />\n\n          <Dropdown\n            visible={visible}\n            onVisibleChange={(flag) => setVisible(flag)}\n            overlay={() =>\n              quantity === 0 ? (\n                <h5\n                  style={{\n                    border: \"1px solid gray\",\n                    width: \"400px\",\n                    height: \"100px\",\n                    zIndex: 9999,\n                    backgroundColor: \"white\",\n                  }}\n                >\n                  No products in the Cart\n                </h5>\n              ) : (\n                <PopUpCartWindow cart={cart} onDeleteItem={handleDeleteItem} />\n              )\n            }\n          >\n            <NavLink to=\"/cart\">\n              <div>\n                {quantity}\n                <ShoppingCartOutlined\n                  style={{\n                    fontSize: \"170%\",\n                    color: \"rgba(255, 255, 255, 0.65)\",\n                  }}\n                />\n              </div>\n            </NavLink>\n          </Dropdown>\n        </HeaderAntd>\n      )}\n    </>\n  );\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  cart: state.cart,\n});\n\nconst mapDispatchToProps = {\n  loadCart,\n  loadApple,\n  deleteItemFromCart,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));\n"]},"metadata":{},"sourceType":"module"}