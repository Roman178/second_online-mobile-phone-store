{"ast":null,"code":"var _jsxFileName = \"/home/roman/Documents/development/projects/second_the-worst-online-mobile-phone-store/src/components/menu/AppleMenu.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Menu } from \"antd\";\nimport { NavLink } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport SiderSubMenu from \"./SiderSubMenu\";\nconst {\n  SubMenu\n} = Menu;\n\nconst AppleMenu = props => {\n  const checkPage = props.location.pathname.includes(\"/\", 1);\n  const [currentPageIsASubPage, setTrueOrFalseSubPage] = useState(\"\");\n  useEffect(() => {\n    return setTrueOrFalseSubPage(checkPage);\n  }, [props.location]);\n\n  function getCorrectLink(item) {\n    return currentPageIsASubPage ? props.location.pathname + \"/\" + item.url : props.location.pathname + \"/\" + item.category + \"/\" + item.url;\n  }\n\n  const generationsOfiPhones = [...new Set(props.iphones.map(i => i.title))];\n  const appleDevices = Object.keys(props.apple);\n  const generationsOfAppleDevices = {\n    iphones: [...new Set(props.iphones.map(i => i.title))],\n    ipads: [...new Set(props.ipads.map(i => i.title))],\n    macbooks: [...new Set(props.macbooks.map(i => i.title))]\n  };\n  console.log(generationsOfAppleDevices, appleDevices);\n  return /*#__PURE__*/React.createElement(Menu, {\n    mode: \"vertical\",\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, appleDevices.map(device => {\n    return /*#__PURE__*/React.createElement(SubMenu, {\n      key: \"iphone\",\n      title: \"iPhone\",\n      onTitleClick: () => props.history.push(\"/apple/iphones\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    });\n  }));\n};\n\nexport default withRouter(AppleMenu);","map":{"version":3,"sources":["/home/roman/Documents/development/projects/second_the-worst-online-mobile-phone-store/src/components/menu/AppleMenu.js"],"names":["React","useState","useEffect","Menu","NavLink","withRouter","SiderSubMenu","SubMenu","AppleMenu","props","checkPage","location","pathname","includes","currentPageIsASubPage","setTrueOrFalseSubPage","getCorrectLink","item","url","category","generationsOfiPhones","Set","iphones","map","i","title","appleDevices","Object","keys","apple","generationsOfAppleDevices","ipads","macbooks","console","log","height","device","history","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAcJ,IAApB;;AAEA,MAAMK,SAAS,GAAIC,KAAD,IAAW;AAC3B,QAAMC,SAAS,GAAGD,KAAK,CAACE,QAAN,CAAeC,QAAf,CAAwBC,QAAxB,CAAiC,GAAjC,EAAsC,CAAtC,CAAlB;AACA,QAAM,CAACC,qBAAD,EAAwBC,qBAAxB,IAAiDd,QAAQ,CAAC,EAAD,CAA/D;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,WAAOa,qBAAqB,CAACL,SAAD,CAA5B;AACD,GAFQ,EAEN,CAACD,KAAK,CAACE,QAAP,CAFM,CAAT;;AAIA,WAASK,cAAT,CAAwBC,IAAxB,EAA8B;AAC5B,WAAOH,qBAAqB,GACxBL,KAAK,CAACE,QAAN,CAAeC,QAAf,GAA0B,GAA1B,GAAgCK,IAAI,CAACC,GADb,GAExBT,KAAK,CAACE,QAAN,CAAeC,QAAf,GAA0B,GAA1B,GAAgCK,IAAI,CAACE,QAArC,GAAgD,GAAhD,GAAsDF,IAAI,CAACC,GAF/D;AAGD;;AAED,QAAME,oBAAoB,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQZ,KAAK,CAACa,OAAN,CAAcC,GAAd,CAAmBC,CAAD,IAAOA,CAAC,CAACC,KAA3B,CAAR,CAAJ,CAA7B;AAEA,QAAMC,YAAY,GAAGC,MAAM,CAACC,IAAP,CAAYnB,KAAK,CAACoB,KAAlB,CAArB;AAEA,QAAMC,yBAAyB,GAAG;AAChCR,IAAAA,OAAO,EAAE,CAAC,GAAG,IAAID,GAAJ,CAAQZ,KAAK,CAACa,OAAN,CAAcC,GAAd,CAAmBC,CAAD,IAAOA,CAAC,CAACC,KAA3B,CAAR,CAAJ,CADuB;AAEhCM,IAAAA,KAAK,EAAE,CAAC,GAAG,IAAIV,GAAJ,CAAQZ,KAAK,CAACsB,KAAN,CAAYR,GAAZ,CAAiBC,CAAD,IAAOA,CAAC,CAACC,KAAzB,CAAR,CAAJ,CAFyB;AAGhCO,IAAAA,QAAQ,EAAE,CAAC,GAAG,IAAIX,GAAJ,CAAQZ,KAAK,CAACuB,QAAN,CAAeT,GAAf,CAAoBC,CAAD,IAAOA,CAAC,CAACC,KAA5B,CAAR,CAAJ;AAHsB,GAAlC;AAMAQ,EAAAA,OAAO,CAACC,GAAR,CAAYJ,yBAAZ,EAAuCJ,YAAvC;AAEA,sBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,UAAX;AAAsB,IAAA,KAAK,EAAE;AAAES,MAAAA,MAAM,EAAE;AAAV,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASGT,YAAY,CAACH,GAAb,CAAkBa,MAAD,IAAY;AAC5B,wBACE,oBAAC,OAAD;AACE,MAAA,GAAG,EAAC,QADN;AAEE,MAAA,KAAK,EAAC,QAFR;AAGE,MAAA,YAAY,EAAE,MAAM3B,KAAK,CAAC4B,OAAN,CAAcC,IAAd,CAAmB,gBAAnB,CAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAOD,GARA,CATH,CADF;AA4DD,CAtFD;;AAwFA,eAAejC,UAAU,CAACG,SAAD,CAAzB","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Menu } from \"antd\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { withRouter } from \"react-router\";\r\nimport SiderSubMenu from \"./SiderSubMenu\";\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst AppleMenu = (props) => {\r\n  const checkPage = props.location.pathname.includes(\"/\", 1);\r\n  const [currentPageIsASubPage, setTrueOrFalseSubPage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    return setTrueOrFalseSubPage(checkPage);\r\n  }, [props.location]);\r\n\r\n  function getCorrectLink(item) {\r\n    return currentPageIsASubPage\r\n      ? props.location.pathname + \"/\" + item.url\r\n      : props.location.pathname + \"/\" + item.category + \"/\" + item.url;\r\n  }\r\n\r\n  const generationsOfiPhones = [...new Set(props.iphones.map((i) => i.title))];\r\n\r\n  const appleDevices = Object.keys(props.apple);\r\n\r\n  const generationsOfAppleDevices = {\r\n    iphones: [...new Set(props.iphones.map((i) => i.title))],\r\n    ipads: [...new Set(props.ipads.map((i) => i.title))],\r\n    macbooks: [...new Set(props.macbooks.map((i) => i.title))],\r\n  };\r\n\r\n  console.log(generationsOfAppleDevices, appleDevices);\r\n\r\n  return (\r\n    <Menu mode=\"vertical\" style={{ height: \"100%\" }}>\r\n      {/* <SiderSubMenu\r\n        key=\"iphone\"\r\n        title=\"iPhone\"\r\n        onTitleClick={() => props.history.push(\"/apple/iphones\")}\r\n        generationsOfDevice={generationsOfiPhones}\r\n        devices={props.iphones}\r\n      /> */}\r\n\r\n      {appleDevices.map((device) => {\r\n        return (\r\n          <SubMenu\r\n            key=\"iphone\"\r\n            title=\"iPhone\"\r\n            onTitleClick={() => props.history.push(\"/apple/iphones\")}\r\n          ></SubMenu>\r\n        );\r\n      })}\r\n\r\n      {/* <SubMenu\r\n        key=\"iphone\"\r\n        title=\"iPhone\"\r\n        onTitleClick={() => props.history.push(\"/apple/iphones\")}\r\n      >\r\n        {generationsOfiPhones.map((gen) => {\r\n          const iphonesOfCurrGen = props.iphones.filter((i) => i.title === gen);\r\n          return (\r\n            <SubMenu title={gen}>\r\n              {iphonesOfCurrGen.map((item) => (\r\n                <Menu.Item key={item.id}>\r\n                  <NavLink key={item.id} to={getCorrectLink(item)}>\r\n                    {item.title + \" \" + item.memory + \" \" + item.color}\r\n                  </NavLink>\r\n                </Menu.Item>\r\n              ))}\r\n            </SubMenu>\r\n          );\r\n        })}\r\n      </SubMenu> */}\r\n      {/* <SubMenu\r\n        key=\"ipad\"\r\n        title={<span>iPad</span>}\r\n        onTitleClick={() => props.history.push(\"/apple/ipads\")}\r\n      >\r\n        {props.ipads.map((item) => (\r\n          <Menu.Item key={item.id}>{item.title}</Menu.Item>\r\n        ))}\r\n      </SubMenu>\r\n      <SubMenu\r\n        key=\"macBook\"\r\n        title={<span>Mac Book</span>}\r\n        onTitleClick={() => props.history.push(\"/apple/macbooks\")}\r\n      >\r\n        {props.macbooks.map((item) => (\r\n          <Menu.Item key={item.id}>{item.title}</Menu.Item>\r\n        ))}\r\n      </SubMenu> */}\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default withRouter(AppleMenu);\r\n"]},"metadata":{},"sourceType":"module"}