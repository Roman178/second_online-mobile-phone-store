{"ast":null,"code":"var _jsxFileName = \"/home/roman/Documents/development/projects/second_the-worst-online-mobile-phone-store/src/components/common/DevicePage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Image, Skeleton } from \"antd\";\nimport { connect } from \"react-redux\";\nimport SelectColor from \"./device_page/SelectColor\";\nimport SelectMemory from \"./device_page/SelectMemory\";\nimport ImageCarouselDevice from \"./device_page/ImageCarouselDevice\";\nimport CharacteristicsTable from \"./device_page/CharacteristicsTable\";\nimport { Button } from \"antd\";\nimport { addItemToCart } from \"../../redux/actions/cartActions\";\nimport { Anchor } from \"antd\";\nimport DeviceInfoBlock from \"./device_page/DeviceInfoBlock\";\nimport iphone11ProMaxImg from \"../../img/iphone_11_pro_max.jpg\";\nimport { LeftOutlined, RightOutlined } from \"@ant-design/icons\";\nimport { Radio } from \"antd\";\nimport { addCurrentDevice, deleteCurrentDevice } from \"../../redux/actions/devicePageActions\";\n\nfunction DevicePage(props) {\n  _s();\n\n  // const [value, setValue] = useState(0);\n  // const [color, setColor] = useState(\"\");\n  const [cssClass, setCssClass] = useState(\"secondary-container-0\");\n  console.log(Object.keys(props.theReduxStore.apple));\n\n  function getArrSameTypesOfDevices() {\n    const arrCurrentDevice = props.location.pathname.split(\"/\");\n    const arrTheSameTypesOfDevices = props.theReduxStore[arrCurrentDevice[1]][arrCurrentDevice[2]];\n    return arrTheSameTypesOfDevices;\n  }\n\n  const theSameTypesOfDevices = getArrSameTypesOfDevices();\n\n  function getCurrentDevice() {\n    // const arrCurrentDevice = props.location.pathname.split(\"/\");\n    // const arrTheSameDevices =\n    //   props.theReduxStore[arrCurrentDevice[1]][arrCurrentDevice[2]];\n    const objCurrentDevice = theSameTypesOfDevices.find(item => item.url === props.match.params.urlName);\n    return objCurrentDevice;\n  }\n\n  const _currentDevice = getCurrentDevice();\n\n  const reallyTheSameDevices = theSameTypesOfDevices.filter(item => item.title === props.theReduxStore.currentDevice.title);\n  const availableColors = [...new Set(reallyTheSameDevices.map(i => i.color))];\n  const arrOfAvailableMemoryDevice = [...new Set(reallyTheSameDevices.map(i => i.memory))];\n  useEffect(function () {\n    if (_currentDevice) props.dispatch(addCurrentDevice(_currentDevice));\n    return () => props.dispatch(deleteCurrentDevice(_currentDevice));\n  }, [_currentDevice]);\n\n  function getUrlsImages() {\n    const arr = [];\n\n    for (const key in props.currentDevice) {\n      if (key.startsWith(\"image\")) {\n        arr.push(props.currentDevice[key]);\n      }\n    }\n\n    return arr;\n  }\n\n  const urlsImages = getUrlsImages();\n\n  function getObjUrlsImages() {\n    let obj = {};\n\n    for (const key in props.currentDevice) {\n      if (key.startsWith(\"image\")) {\n        obj = { ...obj,\n          [key]: props.currentDevice[key]\n        };\n      }\n    }\n\n    return obj;\n  }\n\n  const objUrlsImages = getObjUrlsImages();\n\n  function onChange(e) {\n    const nextDevice = reallyTheSameDevices.find(item => parseInt(item.memory, 10) === e.target.value && item.color === props.currentDevice.color);\n    const nextUrl = props.location.pathname.replace(props.match.params.urlName, nextDevice.url);\n    props.history.push(nextUrl);\n  }\n\n  function handleChangeColor(e) {\n    const nextDevice = reallyTheSameDevices.find(item => item.color === e.target.value && item.memory === props.theReduxStore.currentDevice.memory);\n    const nextUrl = props.location.pathname.replace(props.match.params.urlName, nextDevice.url);\n    props.history.push(nextUrl);\n  }\n\n  function handleAddToCart(item) {\n    if (!props.cart.find(i => i.id === item.id)) {\n      props.dispatch(addItemToCart({ ...item,\n        quantity: 1,\n        cost: item.price\n      }));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      marginTop: \"3%\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ImageCarouselDevice, {\n    objUrlsImages: objUrlsImages,\n    arrUrlsImages: urlsImages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginLeft: \"3%\",\n      maxWidth: \"400px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      marginBottom: \"10%\",\n      color: \"#001529\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, props.currentDevice.title + \" \" + props.currentDevice.memory + \" \" + props.currentDevice.color), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handleAddToCart(props.currentDevice),\n    type: \"primary\",\n    size: \"large\",\n    style: {\n      marginBottom: \"5%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, \"Add to Cart\"), /*#__PURE__*/React.createElement(SelectMemory, {\n    onChange: onChange,\n    currentMemory: parseInt(props.currentDevice.memory),\n    availableMemory: arrOfAvailableMemoryDevice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(SelectColor, {\n    availableColors: availableColors,\n    currentDeviceColor: props.currentDevice.color,\n    onChangeColor: handleChangeColor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(CharacteristicsTable, {\n    currentDevice: props.currentDevice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#info-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, \"See more...\"))), /*#__PURE__*/React.createElement(DeviceInfoBlock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }));\n}\n\n_s(DevicePage, \"I6D/26+pGyl0qrvspEFswL6T5iA=\");\n\n_c = DevicePage;\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    theReduxStore: state,\n    currentDevice: state.currentDevice,\n    cart: state.cart\n  };\n} // const mapDispatchToProps = {\n//   addItemToCart,\n// };\n\n\nexport default connect(mapStateToProps)(DevicePage);\n\nvar _c;\n\n$RefreshReg$(_c, \"DevicePage\");","map":{"version":3,"sources":["/home/roman/Documents/development/projects/second_the-worst-online-mobile-phone-store/src/components/common/DevicePage.js"],"names":["React","useState","useEffect","Image","Skeleton","connect","SelectColor","SelectMemory","ImageCarouselDevice","CharacteristicsTable","Button","addItemToCart","Anchor","DeviceInfoBlock","iphone11ProMaxImg","LeftOutlined","RightOutlined","Radio","addCurrentDevice","deleteCurrentDevice","DevicePage","props","cssClass","setCssClass","console","log","Object","keys","theReduxStore","apple","getArrSameTypesOfDevices","arrCurrentDevice","location","pathname","split","arrTheSameTypesOfDevices","theSameTypesOfDevices","getCurrentDevice","objCurrentDevice","find","item","url","match","params","urlName","_currentDevice","reallyTheSameDevices","filter","title","currentDevice","availableColors","Set","map","i","color","arrOfAvailableMemoryDevice","memory","dispatch","getUrlsImages","arr","key","startsWith","push","urlsImages","getObjUrlsImages","obj","objUrlsImages","onChange","e","nextDevice","parseInt","target","value","nextUrl","replace","history","handleChangeColor","handleAddToCart","cart","id","quantity","cost","price","display","marginLeft","marginRight","marginTop","alignItems","justifyContent","flexDirection","maxWidth","marginBottom","mapStateToProps","state","ownProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Image, Skeleton } from \"antd\";\nimport { connect } from \"react-redux\";\nimport SelectColor from \"./device_page/SelectColor\";\nimport SelectMemory from \"./device_page/SelectMemory\";\nimport ImageCarouselDevice from \"./device_page/ImageCarouselDevice\";\nimport CharacteristicsTable from \"./device_page/CharacteristicsTable\";\nimport { Button } from \"antd\";\nimport { addItemToCart } from \"../../redux/actions/cartActions\";\nimport { Anchor } from \"antd\";\nimport DeviceInfoBlock from \"./device_page/DeviceInfoBlock\";\n\nimport iphone11ProMaxImg from \"../../img/iphone_11_pro_max.jpg\";\nimport { LeftOutlined, RightOutlined } from \"@ant-design/icons\";\nimport { Radio } from \"antd\";\n\nimport {\n  addCurrentDevice,\n  deleteCurrentDevice,\n} from \"../../redux/actions/devicePageActions\";\n\nfunction DevicePage(props) {\n  // const [value, setValue] = useState(0);\n  // const [color, setColor] = useState(\"\");\n  const [cssClass, setCssClass] = useState(\"secondary-container-0\");\n\n  console.log(Object.keys(props.theReduxStore.apple));\n\n  function getArrSameTypesOfDevices() {\n    const arrCurrentDevice = props.location.pathname.split(\"/\");\n    const arrTheSameTypesOfDevices =\n      props.theReduxStore[arrCurrentDevice[1]][arrCurrentDevice[2]];\n    return arrTheSameTypesOfDevices;\n  }\n  const theSameTypesOfDevices = getArrSameTypesOfDevices();\n\n  function getCurrentDevice() {\n    // const arrCurrentDevice = props.location.pathname.split(\"/\");\n    // const arrTheSameDevices =\n    //   props.theReduxStore[arrCurrentDevice[1]][arrCurrentDevice[2]];\n    const objCurrentDevice = theSameTypesOfDevices.find(\n      (item) => item.url === props.match.params.urlName\n    );\n    return objCurrentDevice;\n  }\n  const _currentDevice = getCurrentDevice();\n\n  const reallyTheSameDevices = theSameTypesOfDevices.filter(\n    (item) => item.title === props.theReduxStore.currentDevice.title\n  );\n\n  const availableColors = [\n    ...new Set(reallyTheSameDevices.map((i) => i.color)),\n  ];\n\n  const arrOfAvailableMemoryDevice = [\n    ...new Set(reallyTheSameDevices.map((i) => i.memory)),\n  ];\n\n  useEffect(\n    function () {\n      if (_currentDevice) props.dispatch(addCurrentDevice(_currentDevice));\n      return () => props.dispatch(deleteCurrentDevice(_currentDevice));\n    },\n    [_currentDevice]\n  );\n\n  function getUrlsImages() {\n    const arr = [];\n    for (const key in props.currentDevice) {\n      if (key.startsWith(\"image\")) {\n        arr.push(props.currentDevice[key]);\n      }\n    }\n    return arr;\n  }\n  const urlsImages = getUrlsImages();\n\n  function getObjUrlsImages() {\n    let obj = {};\n    for (const key in props.currentDevice) {\n      if (key.startsWith(\"image\")) {\n        obj = { ...obj, [key]: props.currentDevice[key] };\n      }\n    }\n    return obj;\n  }\n  const objUrlsImages = getObjUrlsImages();\n\n  function onChange(e) {\n    const nextDevice = reallyTheSameDevices.find(\n      (item) =>\n        parseInt(item.memory, 10) === e.target.value &&\n        item.color === props.currentDevice.color\n    );\n    const nextUrl = props.location.pathname.replace(\n      props.match.params.urlName,\n      nextDevice.url\n    );\n\n    props.history.push(nextUrl);\n  }\n\n  function handleChangeColor(e) {\n    const nextDevice = reallyTheSameDevices.find(\n      (item) =>\n        item.color === e.target.value &&\n        item.memory === props.theReduxStore.currentDevice.memory\n    );\n    const nextUrl = props.location.pathname.replace(\n      props.match.params.urlName,\n      nextDevice.url\n    );\n    props.history.push(nextUrl);\n  }\n\n  function handleAddToCart(item) {\n    if (!props.cart.find((i) => i.id === item.id)) {\n      props.dispatch(addItemToCart({ ...item, quantity: 1, cost: item.price }));\n    }\n  }\n\n  return (\n    <>\n      <div\n        style={{\n          display: \"flex\",\n          marginLeft: \"auto\",\n          marginRight: \"auto\",\n          marginTop: \"3%\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <ImageCarouselDevice\n          objUrlsImages={objUrlsImages}\n          arrUrlsImages={urlsImages}\n        />\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            marginLeft: \"3%\",\n            maxWidth: \"400px\",\n          }}\n        >\n          <h1 style={{ marginBottom: \"10%\", color: \"#001529\" }}>\n            {props.currentDevice.title +\n              \" \" +\n              props.currentDevice.memory +\n              \" \" +\n              props.currentDevice.color}\n          </h1>\n\n          <Button\n            onClick={() => handleAddToCart(props.currentDevice)}\n            type=\"primary\"\n            size=\"large\"\n            style={{ marginBottom: \"5%\" }}\n          >\n            Add to Cart\n          </Button>\n\n          <SelectMemory\n            onChange={onChange}\n            currentMemory={parseInt(props.currentDevice.memory)}\n            availableMemory={arrOfAvailableMemoryDevice}\n          />\n\n          <SelectColor\n            availableColors={availableColors}\n            currentDeviceColor={props.currentDevice.color}\n            onChangeColor={handleChangeColor}\n          />\n\n          <CharacteristicsTable currentDevice={props.currentDevice} />\n          <a href=\"#info-block\">See more...</a>\n        </div>\n      </div>\n      <DeviceInfoBlock />\n    </>\n  );\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    theReduxStore: state,\n    currentDevice: state.currentDevice,\n    cart: state.cart,\n  };\n}\n\n// const mapDispatchToProps = {\n//   addItemToCart,\n// };\n\nexport default connect(mapStateToProps)(DevicePage);\n"]},"metadata":{},"sourceType":"module"}