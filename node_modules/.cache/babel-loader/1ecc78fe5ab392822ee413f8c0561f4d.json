{"ast":null,"code":"import \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\n\nvar _jsxFileName = \"/home/roman/Documents/development/projects/second_the-worst-online-mobile-phone-store/src/components/menu/MenuCreator.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nconst {\n  SubMenu\n} = _Menu;\n\nfunction MenuCreator(props) {\n  _s();\n\n  const checkPage = props.location.pathname.includes(\"/\", 1);\n  const [currentPageIsASubPage, setTrueOrFalseSubPage] = useState(\"\");\n  useEffect(() => {\n    return setTrueOrFalseSubPage(checkPage);\n  }, [props.location]); // Pass the correct link to NavLink's \"to\" depends on current url (e.g. \"/apple\" or \"/apple/ipads\")\n\n  function getCorrectLink(item) {\n    if (!currentPageIsASubPage) {\n      return props.location.pathname + \"/\" + item.category + \"/\" + item.url;\n    }\n\n    if (currentPageIsASubPage && props.location.pathname.includes(item.category)) {\n      return props.location.pathname + \"/\" + item.url;\n    } else {\n      const currCategory = props.brandDevices.find(dev => props.location.pathname.includes(dev));\n      const correctCategory = props.location.pathname.replace(currCategory, item.category);\n      return correctCategory + \"/\" + item.url;\n    }\n  }\n\n  function getCorrectSubmenuTitle(device) {\n    switch (device) {\n      case \"iphones\":\n        return \"iPhone\";\n\n      case \"ipads\":\n        return \"iPad\";\n\n      case \"macbooks\":\n        return \"Macbook\";\n\n      default:\n        return;\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(_Menu, {\n    mode: \"vertical\",\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, props.brandDevices.map(device => {\n    return /*#__PURE__*/React.createElement(SubMenu, {\n      key: device,\n      title: getCorrectSubmenuTitle(device),\n      onTitleClick: () => props.history.push(props.currBrandUrl + device),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, props.generationsOfDevices[device].map(gen => {\n      const devicesOfCurrGen = props[device].filter(i => i.title === gen);\n      return /*#__PURE__*/React.createElement(SubMenu, {\n        title: gen,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }\n      }, devicesOfCurrGen.map(item => /*#__PURE__*/React.createElement(_Menu.Item, {\n        key: item.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(NavLink, {\n        key: item.id,\n        to: location => ({ ...location,\n          pathname: getCorrectLink(item)\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 23\n        }\n      }, item.title + \" \" + item.memory + \" \" + item.color))));\n    }));\n  }));\n}\n\n_s(MenuCreator, \"4gd7/2wRnfon7mq1wKk++H6PVDE=\");\n\n_c = MenuCreator;\nexport default _c2 = withRouter(MenuCreator);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MenuCreator\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/roman/Documents/development/projects/second_the-worst-online-mobile-phone-store/src/components/menu/MenuCreator.js"],"names":["React","useEffect","useState","NavLink","withRouter","SubMenu","MenuCreator","props","checkPage","location","pathname","includes","currentPageIsASubPage","setTrueOrFalseSubPage","getCorrectLink","item","category","url","currCategory","brandDevices","find","dev","correctCategory","replace","getCorrectSubmenuTitle","device","height","map","history","push","currBrandUrl","generationsOfDevices","gen","devicesOfCurrGen","filter","i","title","id","memory","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Menu } from \"antd\";\nimport { NavLink } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\n\nconst { SubMenu } = Menu;\n\nfunction MenuCreator(props) {\n  const checkPage = props.location.pathname.includes(\"/\", 1);\n  const [currentPageIsASubPage, setTrueOrFalseSubPage] = useState(\"\");\n\n  useEffect(() => {\n    return setTrueOrFalseSubPage(checkPage);\n  }, [props.location]);\n\n  // Pass the correct link to NavLink's \"to\" depends on current url (e.g. \"/apple\" or \"/apple/ipads\")\n  function getCorrectLink(item) {\n    if (!currentPageIsASubPage) {\n      return props.location.pathname + \"/\" + item.category + \"/\" + item.url;\n    }\n    if (\n      currentPageIsASubPage &&\n      props.location.pathname.includes(item.category)\n    ) {\n      return props.location.pathname + \"/\" + item.url;\n    } else {\n      const currCategory = props.brandDevices.find((dev) =>\n        props.location.pathname.includes(dev)\n      );\n      const correctCategory = props.location.pathname.replace(\n        currCategory,\n        item.category\n      );\n      return correctCategory + \"/\" + item.url;\n    }\n  }\n\n  function getCorrectSubmenuTitle(device) {\n    switch (device) {\n      case \"iphones\":\n        return \"iPhone\";\n      case \"ipads\":\n        return \"iPad\";\n      case \"macbooks\":\n        return \"Macbook\";\n      default:\n        return;\n    }\n  }\n\n  return (\n    <Menu mode=\"vertical\" style={{ height: \"100%\" }}>\n      {props.brandDevices.map((device) => {\n        return (\n          <SubMenu\n            key={device}\n            title={getCorrectSubmenuTitle(device)}\n            onTitleClick={() => props.history.push(props.currBrandUrl + device)}\n          >\n            {props.generationsOfDevices[device].map((gen) => {\n              const devicesOfCurrGen = props[device].filter(\n                (i) => i.title === gen\n              );\n              return (\n                <SubMenu title={gen}>\n                  {devicesOfCurrGen.map((item) => (\n                    <Menu.Item key={item.id}>\n                      <NavLink\n                        key={item.id}\n                        to={(location) => ({\n                          ...location,\n                          pathname: getCorrectLink(item),\n                        })}\n                      >\n                        {item.title + \" \" + item.memory + \" \" + item.color}\n                      </NavLink>\n                    </Menu.Item>\n                  ))}\n                </SubMenu>\n              );\n            })}\n          </SubMenu>\n        );\n      })}\n    </Menu>\n  );\n}\n\nexport default withRouter(MenuCreator);\n"]},"metadata":{},"sourceType":"module"}