{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\Ismagilov Roman\\\\shit\\\\New folder\\\\second_draft\\\\src\\\\components\\\\cart\\\\CartPage.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { loadCart, deleteItemFromCart, updateCart } from \"../../redux/actions/cartActions\";\nimport CardForCart from \"./CardForCart\";\nimport { Table } from \"antd\";\nimport { dataSource, columns } from \"./TableCartWithInfo\";\nimport { Button } from \"antd\";\n\nclass CartPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeQuantity = (item, changedValue) => {\n      const updatedCart = this.state.cart.map(i => {\n        if (i.id === item.id) {\n          return { ...item,\n            quantity: changedValue,\n            cost: parseInt(item.price) * changedValue\n          };\n        }\n\n        return i;\n      });\n      this.setState({\n        cart: updatedCart\n      }); // if (isNaN(changedValue)) {\n      //   // console.log({ ...item, quantity: 1 });\n      //   const updatedCart = this.state.cart.map((i) => {\n      //     if (i.id === item.id) {\n      //       return { ...item, quantity: 1, cost: parseInt(item.price) * 1 };\n      //     }\n      //     return i;\n      //   });\n      //   this.setState({ cart: updatedCart });\n      // } else {\n      //   // console.log({ ...item, quantity: changedValue });\n      //   const updatedCart = this.state.cart.map((i) => {\n      //     if (i.id === item.id) {\n      //       return {\n      //         ...item,\n      //         quantity: changedValue,\n      //         cost: parseInt(item.price) * changedValue,\n      //       };\n      //     }\n      //     return i;\n      //   });\n      //   this.setState({ cart: updatedCart });\n      // }\n    };\n\n    this.state = {\n      cart: [],\n      totalCost: 0\n    }; // this.handleDeleteFromCart = this.handleDeleteFromCart.bind(this);\n\n    this.componentCleanup = this.componentCleanup.bind(this);\n  }\n\n  componentCleanup() {\n    this.props.updateCart(this.state.cart);\n  }\n\n  async componentDidMount() {\n    await this.props.loadCart().catch(error => console.error(error));\n    this.setState({\n      cart: this.props.cart\n    });\n    window.addEventListener(\"beforeunload\", this.componentCleanup);\n  }\n\n  componentWillUnmount() {\n    this.componentCleanup();\n    window.removeEventListener(\"beforeunload\", this.componentCleanup); // this.props.updateCart(this.state.cart);\n  }\n\n  componentDidUpdate() {}\n\n  handleDeleteItem(item) {\n    this.setState({\n      cart: this.state.cart.filter(i => i.id !== item.id)\n    });\n    this.props.deleteItemFromCart(item);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState({\n      cart: nextProps.cart\n    });\n  }\n\n  render() {\n    // const listOfCarts = this.state.cart.map((item) => (\n    //   <CardForCart\n    //     key={item.id}\n    //     id={item.id}\n    //     path={item.path}\n    //     title={item.title}\n    //     cost={item.cost}\n    //     onDeleteItem={() => this.handleDeleteItem(item)}\n    //     onChangeQuantity={(count) => this.handleChangeQuantity(item, count)}\n    //     quantity={item.quantity}\n    //   />\n    // ));\n    // const totalCost = listOfCarts.reduce(\n    //   (sum, current) => sum + parseInt(current.props.cost),\n    //   0\n    // );\n    const totalCost = this.state.cart.reduce((sum, current) => sum + parseInt(current.cost), 0);\n    const stateTax = (totalCost * 0.09).toFixed(2);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, \"Cart Page\"), /*#__PURE__*/React.createElement(\"section\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        marginLeft: \"15%\",\n        marginRight: \"15%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"60%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, this.state.cart.map(item => /*#__PURE__*/React.createElement(CardForCart, {\n      key: item.id,\n      id: item.id,\n      path: item.path,\n      title: item.title,\n      cost: item.cost,\n      onDeleteItem: () => this.handleDeleteItem(item),\n      onChangeQuantity: count => this.handleChangeQuantity(item, count),\n      quantity: item.quantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"40%\",\n        marginLeft: \"30px\",\n        height: \"350px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, \"Cart totals\"), /*#__PURE__*/React.createElement(\"table\", {\n      width: \"100%\",\n      rules: \"rows\",\n      style: {\n        width: \"100%\",\n        height: \"200px\",\n        borderBottom: \"1px solid\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      style: {\n        fontSize: \"1.2em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, \"Subtotal\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 19\n      }\n    }, \"$\", totalCost)), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }\n    }, \"State Tax 9%\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }, \"$\", parseFloat(stateTax).toFixed(2))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }, \"Shipping\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, \"DHL or Fedex (+ $17)\")), /*#__PURE__*/React.createElement(\"tr\", {\n      style: {\n        fontSize: \"1.4em\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }\n    }, \"Total\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 19\n      }\n    }, \"$\", (totalCost + parseFloat(stateTax) + 17).toFixed(2))))), /*#__PURE__*/React.createElement(Button, {\n      size: \"large\",\n      type: \"primary\",\n      style: {\n        marginTop: \"20px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }\n    }, \"Proceed to checkout\"))));\n  }\n\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    cart: state.cart\n  };\n}\n\nconst mapDispatchToProps = {\n  loadCart,\n  deleteItemFromCart,\n  updateCart\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(CartPage);","map":{"version":3,"sources":["C:/Users/User/Documents/Ismagilov Roman/shit/New folder/second_draft/src/components/cart/CartPage.js"],"names":["React","connect","loadCart","deleteItemFromCart","updateCart","CardForCart","Table","dataSource","columns","Button","CartPage","Component","constructor","props","handleChangeQuantity","item","changedValue","updatedCart","state","cart","map","i","id","quantity","cost","parseInt","price","setState","totalCost","componentCleanup","bind","componentDidMount","catch","error","console","window","addEventListener","componentWillUnmount","removeEventListener","componentDidUpdate","handleDeleteItem","filter","UNSAFE_componentWillReceiveProps","nextProps","render","reduce","sum","current","stateTax","toFixed","display","justifyContent","marginLeft","marginRight","flexDirection","width","path","title","count","height","borderBottom","fontSize","parseFloat","marginTop","mapStateToProps","ownProps","mapDispatchToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SACEC,QADF,EAEEC,kBAFF,EAGEC,UAHF,QAIO,iCAJP;AAKA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,KAAT,QAAsB,MAAtB;AACA,SAASC,UAAT,EAAqBC,OAArB,QAAoC,qBAApC;AACA,SAASC,MAAT,QAAuB,MAAvB;;AAEA,MAAMC,QAAN,SAAuBV,KAAK,CAACW,SAA7B,CAAuC;AACrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA0BnBC,oBA1BmB,GA0BI,CAACC,IAAD,EAAOC,YAAP,KAAwB;AAC7C,YAAMC,WAAW,GAAG,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,GAAhB,CAAqBC,CAAD,IAAO;AAC7C,YAAIA,CAAC,CAACC,EAAF,KAASP,IAAI,CAACO,EAAlB,EAAsB;AACpB,iBAAO,EACL,GAAGP,IADE;AAELQ,YAAAA,QAAQ,EAAEP,YAFL;AAGLQ,YAAAA,IAAI,EAAEC,QAAQ,CAACV,IAAI,CAACW,KAAN,CAAR,GAAuBV;AAHxB,WAAP;AAKD;;AACD,eAAOK,CAAP;AACD,OATmB,CAApB;AAUA,WAAKM,QAAL,CAAc;AAAER,QAAAA,IAAI,EAAEF;AAAR,OAAd,EAX6C,CAa7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,KA9DkB;;AAEjB,SAAKC,KAAL,GAAa;AAAEC,MAAAA,IAAI,EAAE,EAAR;AAAYS,MAAAA,SAAS,EAAE;AAAvB,KAAb,CAFiB,CAIjB;;AACA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAxB;AACD;;AAEDD,EAAAA,gBAAgB,GAAG;AACjB,SAAKhB,KAAL,CAAWT,UAAX,CAAsB,KAAKc,KAAL,CAAWC,IAAjC;AACD;;AAED,QAAMY,iBAAN,GAA0B;AACxB,UAAM,KAAKlB,KAAL,CAAWX,QAAX,GAAsB8B,KAAtB,CAA6BC,KAAD,IAAWC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAvC,CAAN;AACA,SAAKN,QAAL,CAAc;AAAER,MAAAA,IAAI,EAAE,KAAKN,KAAL,CAAWM;AAAnB,KAAd;AACAgB,IAAAA,MAAM,CAACC,gBAAP,CAAwB,cAAxB,EAAwC,KAAKP,gBAA7C;AACD;;AAEDQ,EAAAA,oBAAoB,GAAG;AACrB,SAAKR,gBAAL;AACAM,IAAAA,MAAM,CAACG,mBAAP,CAA2B,cAA3B,EAA2C,KAAKT,gBAAhD,EAFqB,CAGrB;AACD;;AAEDU,EAAAA,kBAAkB,GAAG,CAAE;;AAwCvBC,EAAAA,gBAAgB,CAACzB,IAAD,EAAO;AACrB,SAAKY,QAAL,CAAc;AAAER,MAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAAX,CAAgBsB,MAAhB,CAAwBpB,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASP,IAAI,CAACO,EAA5C;AAAR,KAAd;AACA,SAAKT,KAAL,CAAWV,kBAAX,CAA8BY,IAA9B;AACD;;AAED2B,EAAAA,gCAAgC,CAACC,SAAD,EAAY;AAC1C,SAAKhB,QAAL,CAAc;AAAER,MAAAA,IAAI,EAAEwB,SAAS,CAACxB;AAAlB,KAAd;AACD;;AAEDyB,EAAAA,MAAM,GAAG;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,UAAMhB,SAAS,GAAG,KAAKV,KAAL,CAAWC,IAAX,CAAgB0B,MAAhB,CAChB,CAACC,GAAD,EAAMC,OAAN,KAAkBD,GAAG,GAAGrB,QAAQ,CAACsB,OAAO,CAACvB,IAAT,CADhB,EAEhB,CAFgB,CAAlB;AAKA,UAAMwB,QAAQ,GAAG,CAACpB,SAAS,GAAG,IAAb,EAAmBqB,OAAnB,CAA2B,CAA3B,CAAjB;AAEA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AACE,MAAA,KAAK,EAAE;AACLC,QAAAA,OAAO,EAAE,MADJ;AAELC,QAAAA,cAAc,EAAE,QAFX;AAGLC,QAAAA,UAAU,EAAE,KAHP;AAILC,QAAAA,WAAW,EAAE;AAJR,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAQE;AACE,MAAA,KAAK,EAAE;AACLH,QAAAA,OAAO,EAAE,MADJ;AAELI,QAAAA,aAAa,EAAE,QAFV;AAGLC,QAAAA,KAAK,EAAE;AAHF,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOG,KAAKrC,KAAL,CAAWC,IAAX,CAAgBC,GAAhB,CAAqBL,IAAD,iBACnB,oBAAC,WAAD;AACE,MAAA,GAAG,EAAEA,IAAI,CAACO,EADZ;AAEE,MAAA,EAAE,EAAEP,IAAI,CAACO,EAFX;AAGE,MAAA,IAAI,EAAEP,IAAI,CAACyC,IAHb;AAIE,MAAA,KAAK,EAAEzC,IAAI,CAAC0C,KAJd;AAKE,MAAA,IAAI,EAAE1C,IAAI,CAACS,IALb;AAME,MAAA,YAAY,EAAE,MAAM,KAAKgB,gBAAL,CAAsBzB,IAAtB,CANtB;AAOE,MAAA,gBAAgB,EAAG2C,KAAD,IAChB,KAAK5C,oBAAL,CAA0BC,IAA1B,EAAgC2C,KAAhC,CARJ;AAUE,MAAA,QAAQ,EAAE3C,IAAI,CAACQ,QAVjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAPH,CARF,eA8BE;AAAK,MAAA,KAAK,EAAE;AAAEgC,QAAAA,KAAK,EAAE,KAAT;AAAgBH,QAAAA,UAAU,EAAE,MAA5B;AAAoCO,QAAAA,MAAM,EAAE;AAA5C,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAEE;AACE,MAAA,KAAK,EAAC,MADR;AAEE,MAAA,KAAK,EAAC,MAFR;AAGE,MAAA,KAAK,EAAE;AACLJ,QAAAA,KAAK,EAAE,MADF;AAELI,QAAAA,MAAM,EAAE,OAFH;AAGLC,QAAAA,YAAY,EAAE;AAHT,OAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBASE;AAAO,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMjC,SAAN,CAFF,CADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAMkC,UAAU,CAACd,QAAD,CAAV,CAAqBC,OAArB,CAA6B,CAA7B,CAAN,CAFF,CALF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFF,CATF,eAaE;AAAI,MAAA,KAAK,EAAE;AAAEY,QAAAA,QAAQ,EAAE;AAAZ,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAM,CAACjC,SAAS,GAAGkC,UAAU,CAACd,QAAD,CAAtB,GAAmC,EAApC,EAAwCC,OAAxC,CAAgD,CAAhD,CAAN,CAHF,CAbF,CATF,CAFF,eA+BE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,OAAb;AAAqB,MAAA,IAAI,EAAC,SAA1B;AAAoC,MAAA,KAAK,EAAE;AAAEc,QAAAA,SAAS,EAAE;AAAb,OAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BA/BF,CA9BF,CAFF,CADF;AA8ED;;AAlLoC;;AAqLvC,SAASC,eAAT,CAAyB9C,KAAzB,EAAgC+C,QAAhC,EAA0C;AACxC,SAAO;AACL9C,IAAAA,IAAI,EAAED,KAAK,CAACC;AADP,GAAP;AAGD;;AAED,MAAM+C,kBAAkB,GAAG;AACzBhE,EAAAA,QADyB;AAEzBC,EAAAA,kBAFyB;AAGzBC,EAAAA;AAHyB,CAA3B;AAMA,eAAeH,OAAO,CAAC+D,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CxD,QAA7C,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  loadCart,\n  deleteItemFromCart,\n  updateCart,\n} from \"../../redux/actions/cartActions\";\nimport CardForCart from \"./CardForCart\";\nimport { Table } from \"antd\";\nimport { dataSource, columns } from \"./TableCartWithInfo\";\nimport { Button } from \"antd\";\n\nclass CartPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { cart: [], totalCost: 0 };\n\n    // this.handleDeleteFromCart = this.handleDeleteFromCart.bind(this);\n    this.componentCleanup = this.componentCleanup.bind(this);\n  }\n\n  componentCleanup() {\n    this.props.updateCart(this.state.cart);\n  }\n\n  async componentDidMount() {\n    await this.props.loadCart().catch((error) => console.error(error));\n    this.setState({ cart: this.props.cart });\n    window.addEventListener(\"beforeunload\", this.componentCleanup);\n  }\n\n  componentWillUnmount() {\n    this.componentCleanup();\n    window.removeEventListener(\"beforeunload\", this.componentCleanup);\n    // this.props.updateCart(this.state.cart);\n  }\n\n  componentDidUpdate() {}\n\n  handleChangeQuantity = (item, changedValue) => {\n    const updatedCart = this.state.cart.map((i) => {\n      if (i.id === item.id) {\n        return {\n          ...item,\n          quantity: changedValue,\n          cost: parseInt(item.price) * changedValue,\n        };\n      }\n      return i;\n    });\n    this.setState({ cart: updatedCart });\n\n    // if (isNaN(changedValue)) {\n    //   // console.log({ ...item, quantity: 1 });\n    //   const updatedCart = this.state.cart.map((i) => {\n    //     if (i.id === item.id) {\n    //       return { ...item, quantity: 1, cost: parseInt(item.price) * 1 };\n    //     }\n    //     return i;\n    //   });\n    //   this.setState({ cart: updatedCart });\n    // } else {\n    //   // console.log({ ...item, quantity: changedValue });\n    //   const updatedCart = this.state.cart.map((i) => {\n    //     if (i.id === item.id) {\n    //       return {\n    //         ...item,\n    //         quantity: changedValue,\n    //         cost: parseInt(item.price) * changedValue,\n    //       };\n    //     }\n    //     return i;\n    //   });\n    //   this.setState({ cart: updatedCart });\n    // }\n  };\n\n  handleDeleteItem(item) {\n    this.setState({ cart: this.state.cart.filter((i) => i.id !== item.id) });\n    this.props.deleteItemFromCart(item);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState({ cart: nextProps.cart });\n  }\n\n  render() {\n    // const listOfCarts = this.state.cart.map((item) => (\n    //   <CardForCart\n    //     key={item.id}\n    //     id={item.id}\n    //     path={item.path}\n    //     title={item.title}\n    //     cost={item.cost}\n    //     onDeleteItem={() => this.handleDeleteItem(item)}\n    //     onChangeQuantity={(count) => this.handleChangeQuantity(item, count)}\n    //     quantity={item.quantity}\n    //   />\n    // ));\n\n    // const totalCost = listOfCarts.reduce(\n    //   (sum, current) => sum + parseInt(current.props.cost),\n    //   0\n    // );\n\n    const totalCost = this.state.cart.reduce(\n      (sum, current) => sum + parseInt(current.cost),\n      0\n    );\n\n    const stateTax = (totalCost * 0.09).toFixed(2);\n\n    return (\n      <div>\n        <h1>Cart Page</h1>\n        <section\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginLeft: \"15%\",\n            marginRight: \"15%\",\n          }}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              width: \"60%\",\n            }}\n          >\n            {this.state.cart.map((item) => (\n              <CardForCart\n                key={item.id}\n                id={item.id}\n                path={item.path}\n                title={item.title}\n                cost={item.cost}\n                onDeleteItem={() => this.handleDeleteItem(item)}\n                onChangeQuantity={(count) =>\n                  this.handleChangeQuantity(item, count)\n                }\n                quantity={item.quantity}\n              />\n            ))}\n          </div>\n          <div style={{ width: \"40%\", marginLeft: \"30px\", height: \"350px\" }}>\n            <h3>Cart totals</h3>\n            <table\n              width=\"100%\"\n              rules=\"rows\"\n              style={{\n                width: \"100%\",\n                height: \"200px\",\n                borderBottom: \"1px solid\",\n              }}\n            >\n              <tbody style={{ fontSize: \"1.2em\" }}>\n                <tr>\n                  <th>Subtotal</th>\n                  <td>${totalCost}</td>\n                </tr>\n                <tr>\n                  <th>State Tax 9%</th>\n                  <td>${parseFloat(stateTax).toFixed(2)}</td>\n                </tr>\n                <tr>\n                  <th>Shipping</th>\n                  <td>DHL or Fedex (+ $17)</td>\n                </tr>\n                <tr style={{ fontSize: \"1.4em\" }}>\n                  {\" \"}\n                  <th>Total</th>\n                  <td>${(totalCost + parseFloat(stateTax) + 17).toFixed(2)}</td>\n                </tr>\n              </tbody>\n            </table>\n            <Button size=\"large\" type=\"primary\" style={{ marginTop: \"20px\" }}>\n              Proceed to checkout\n            </Button>\n          </div>\n\n          {/* <Table\n            style={{ width: \"40%\", marginLeft: \"10px\" }}\n            dataSource={dataSource}\n            columns={columns}\n            pagination={false}\n          /> */}\n        </section>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    cart: state.cart,\n  };\n}\n\nconst mapDispatchToProps = {\n  loadCart,\n  deleteItemFromCart,\n  updateCart,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CartPage);\n"]},"metadata":{},"sourceType":"module"}